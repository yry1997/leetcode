## 题目：
[LeetCode题目链接：1717. 删除子字符串的最大得分](https://leetcode.cn/problems/maximum-score-from-removing-substrings/description/?envType=daily-question&envId=2025-07-23)

困难：中等

给你一个字符串 `s` 和两个整数 `x` 和 `y` 。你可以执行下面两种操作任意次。

删除子字符串 `"ab"` 并得到 `x` 分。
比方说，从 `"cabxbae"` 删除 `ab` ，得到 `"cxbae"` 。
删除子字符串 `"ba"` 并得到 `y` 分。
比方说，从 `"cabxbae"` 删除 `ba` ，得到 `"cabxe"` 。
请返回对 `s` 字符串执行上面操作若干次能得到的最大得分。

## 题解：
**思路：** 
贪心方法，仅考虑`x>=y`的情况，如`x<y`则将`x`、`y`互换，`a`与`b`互换。从左到右遍历，具体可分为三种情况：
-  碰见 `a`： 记录下当前`cnt_a`
-  碰见 `b`：
  - `cnt_a`不为0（即`b`之前存在`a`），则加分（ab得分），并减少`cnt_a`。
  - `cnt_a`为0（即`b`之前不存在`a`)，则记录`cnt_b`。
- 碰见非`a`非`b`：加分（ba得分），ba的数量等于`cnt_a`和`cnt_b`取小。

### python代码
```python
class Solution:
    def maximumGain(self, s: str, x: int, y: int) -> int:
        a, b = "a", "b"
        if x < y:
            x, y = y, x
            a, b = b, a
        ans = cnt1 = cnt2 = 0
        for c in s:
            if c == a:
                cnt1 += 1
            elif c == b:
                if cnt1:
                    ans += x
                    cnt1 -= 1
                else:
                    cnt2 += 1
            else:
                ans += min(cnt1, cnt2) * y
                cnt1 = cnt2 = 0
        ans += min(cnt1, cnt2) * y
        return ans

作者：ylb
链接：https://leetcode.cn/problems/maximum-score-from-removing-substrings/solutions/3731003/python3javacgotypescript-yi-ti-yi-jie-ta-623j/
来源：力扣（LeetCode）
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。
```
```python
# 笨人写的屎山
class Solution:
    def maximumGain(self, s: str, x: int, y: int) -> int:
        def calcu_ab(tmp_s: list):        
            num_a= 0
            ptr = 0
            res_s = []
            marker = 0
            while ptr<len(tmp_s):
                if tmp_s[ptr]=='b' and num_a>0:
                    marker += x
                    num_a -= 1
                    res_s.pop()
                    ptr += 1
                    continue
                if tmp_s[ptr]!='a' and tmp_s[ptr]!='b':
                    num_a = 0
                elif tmp_s[ptr]=='a':
                    num_a += 1
                res_s.append(tmp_s[ptr])
                ptr += 1
            return marker,res_s

        def calcu_ba(tmp_s: list):        
            num_b= 0
            ptr = 0
            res_s = []
            marker = 0
            while ptr<len(tmp_s):
                if tmp_s[ptr]=='a' and num_b>0:
                    marker += y
                    num_b -= 1
                    res_s.pop()
                    ptr += 1
                    continue
                if tmp_s[ptr]!='a' and tmp_s[ptr]!='b':
                    num_b = 0
                elif tmp_s[ptr]=='b':
                    num_b += 1
                res_s.append(tmp_s[ptr])
                ptr += 1
            return marker,res_s
        
        s_list = [s[0]]
        for i in range(1,len(s)):
            if s_list[-1]!='a' and s_list[-1]!='b' and s[i]!='a' and s[i]!='b':
                continue
            s_list.append(s[i])
            
        if x>=y:
            mkt_ab, new_list = calcu_ab(s_list)
            mkt_ba, _ = calcu_ba(new_list)
            return mkt_ab+mkt_ba
        else:
            mkt_ba, new_list = calcu_ba(s_list)
            mkt_ab, _ = calcu_ab(new_list)
            return mkt_ab+mkt_ba
```
